<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/000037-AWSCloudFormation/livereload.js?mindelay=10&amp;v=2&amp;port=&amp;path=000037-AWSCloudFormation/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.127.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/000037-AWSCloudFormation/images/favicon.png" type="image/png">

    <title>Mappings and Stacksets :: AWS CLOUDFORMATION</title>

    
    <link href="/000037-AWSCloudFormation/css/nucleus.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/fontawesome-all.min.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/hybrid.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/featherlight.min.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/perfect-scrollbar.min.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/auto-complete.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/atom-one-dark-reasonable.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/theme.css?1747595034" rel="stylesheet">
    <link href="/000037-AWSCloudFormation/css/hugo-theme.css?1747595034" rel="stylesheet">
    
    <link href="/000037-AWSCloudFormation/css/theme-workshop.css?1747595034" rel="stylesheet">
    
    

    <script src="/000037-AWSCloudFormation/js/jquery-3.3.1.min.js?1747595034"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/000037-AWSCloudFormation/4-advancedcloudformation/4.2-mappingandstackset/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/000037-AWSCloudFormation/js/lunr.min.js?1747595034"></script>
<script type="text/javascript" src="/000037-AWSCloudFormation/js/auto-complete.js?1747595034"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/tienmat999.github.io\/000037-AWSCloudFormation\/";
    
</script>
<script type="text/javascript" src="/000037-AWSCloudFormation/js/search.js?1747595034"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/1-introduce/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/1-introduce/">
           <b> 1. </b> Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/2-prerequiste/" title="Preparation steps" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/2-prerequiste/">
           <b> 2. </b> Preparation steps
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/2-prerequiste/2.1-createiamrole/" title="Create IAM Role" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/2-prerequiste/2.1-createiamrole/">
           <b> 2.1. </b> Create IAM Role
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/2-prerequiste/2.2-createiamuser/" title="Create IAM User" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/2-prerequiste/2.2-createiamuser/">
           <b> 2.2. </b> Create IAM User
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/2-prerequiste/2.3-switchrole/" title="Switch Role" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/2-prerequiste/2.3-switchrole/">
           <b> 2.3. </b> Switch Role
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/3-basiccloudformation/" title="Basic CloudFormation" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/3-basiccloudformation/">
           <b> 3. </b> Basic CloudFormation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/3-basiccloudformation/3.1-usingcloudshell/" title="Using CloudShell" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/3-basiccloudformation/3.1-usingcloudshell/">
           <b> 3.1. </b> Using CloudShell
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/3-basiccloudformation/3.2-createcloudformationtemplate/" title="Create CloudFormation Template" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/3-basiccloudformation/3.2-createcloudformationtemplate/">
           <b> 3.2. </b> Create CloudFormation Template
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/4-advancedcloudformation/" title="Advanced CloudFormation" class="dd-item 
        parent
        
        
        ">
      <a href="/000037-AWSCloudFormation/4-advancedcloudformation/">
           <b> 4. </b> Advanced CloudFormation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/" title="Custom Resources" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/">
           <b> 4.1. </b> Custom Resources
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/4.1.1-createlambdafunction/" title="Create Lambda Function" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/4.1.1-createlambdafunction/">
           <b> 4.1.1. </b> Create Lambda Function
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/4.1.2-createstack/" title="Create Stack" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/4.1.2-createstack/">
           <b> 4.1.2. </b> Create Stack
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/4.1.3-connectec2instance/" title="Connect EC2 Instance" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/4.1.3-connectec2instance/">
           <b> 4.1.3. </b> Connect EC2 Instance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/4-advancedcloudformation/4.2-mappingandstackset/" title="Mappings and Stacksets" class="dd-item 
        
        active
        
        ">
      <a href="/000037-AWSCloudFormation/4-advancedcloudformation/4.2-mappingandstackset/">
           <b> 4.2. </b> Mappings and Stacksets
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/4-advancedcloudformation/4.3-driftdetection/" title="Drift Detection" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/4-advancedcloudformation/4.3-driftdetection/">
           <b> 4.3. </b> Drift Detection
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/000037-AWSCloudFormation/5-cleanup/" title="Clean up resources" class="dd-item 
        
        
        
        ">
      <a href="/000037-AWSCloudFormation/5-cleanup/">
           <b> 5. </b> Clean up resources
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com/"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://tienmat999.github.io/000037-AWSCloudFormation/4-advancedcloudformation/4.2-mappingandstackset/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="http://tienmat999.github.io/000037-AWSCloudFormation/vi/4-advancedcloudformation/4.2-mappingandstackset/">Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>08-09-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/jotaguy/"  style="color:orange">Gia Hưng </a> <br>
                <a href="https://www.linkedin.com/in/anhngo1610/"  style="color:orange">Tuấn Anh  </a> <br>
                <a href="https://www.linkedin.com/in/thmt2504/"  style="color:orange">Minh Tiến </a>
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/000037-AWSCloudFormation/'>AWS CloudFormation</a> > <a href='/000037-AWSCloudFormation/4-advancedcloudformation/'>Advanced CloudFormation</a> > Mappings and Stacksets
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Mappings and Stacksets
            </h1>
          

        



	<h4 id="mapping">Mapping</h4>
<p>The mapping part in the CloudFormation template makes sense in assigning a key to a set of corresponding values. For example, if you want to set values ​​based on region, you can create a mapping between the region acting as the key with the specified values ​​located in the region where the template is deployed. This can be especially useful when deploying AMI installation packages to the global, which is the case where the IDs of the AMIs are different from region to region.</p>
<h4 id="stacksets">StackSets</h4>
<p>AWS CloudFormation StackSets extends the functionality of Stacks by allowing you to create, update, or delete Stacks located across multiple Accounts or across multiple Regions with a single operation.</p>
<p>Using an Administrator User, you can define and manage an AWS CloudFormation template, and use this template as the basis for deploying the Stack to the Accounts and Regions you desire.</p>
<p>For example, you can easily set up AWS CloudTrail or AWS Config policies across multiple Accounts with a single StackSet operation. You can also use StackSets to deploy resources to an Account but across multiple Regions.</p>
<p>In this section, we will implement a simple CloudFormation template that will create an EC2 Instance running the web server. We will use the mapping to correctly deploy the Amazon Linux 2 AMI to the selected Region, while using StackSets to configure which Region to deploy this template. For the sake of simplicity, we will use a User with absolute administrative rights to execute, but in fact you can use another account with more limited permissions to deploy StackSets.</p>
<p>For details you can visit the Prerequisites: Granting Permissions for Stack Set Operations page for more information on how to properly configure the two Roles required for deploying StackSets across multiple Accounts.</p>
<ol>
<li>Access the <a href="https://console.aws.amazon.com/console/">AWS Management Console</a></li>
</ol>
<ul>
<li>Find <strong>CloudFormation</strong></li>
<li>Select <strong>CloudFormation</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0001-stackset.png?width=5120px"></p>
<ol start="2">
<li>View created stacks</li>
</ol>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0002-stackset.png?width=5120px"></p>
<ol start="3">
<li>In the <strong>CloudFormation</strong> interface</li>
</ol>
<ul>
<li>Select <strong>Stack</strong></li>
<li>Select <strong>Create stack</strong></li>
<li>Select <strong>With new resource (standard)</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0003-stackset.png?width=5120px"></p>
<ol start="4">
<li>In the <strong>Create stack</strong> interface</li>
</ol>
<p>The CloudFormation template will call two YAML files written by AWS to help define the IAM roles needed for StackSet deployment.</p>
<ul>
<li>Create a file <strong>mapping_stackset_iam.yaml</strong></li>
<li>Then copy and paste the content of this code into the file and save it:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">AWSTemplateFormatVersion</span>: <span style="color:#e6db74">&#39;2010-09-09&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Description</span>: <span style="color:#ae81ff">This CloudFormation StackSet deploys two AWS provided CloudFormation templates that add Administrator and Execution Roles required to use AWSCloudFormationStackSetAdministrationRole</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Resources</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">AWSCloudFormationStackSetAdministrationRole</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">AWS::CloudFormation::Stack</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">TemplateURL</span>: <span style="color:#ae81ff">https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetAdministrationRole.yml </span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">TimeoutInMinutes</span>: <span style="color:#e6db74">&#39;3&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">AWSCloudFormationStackSetExecutionRole</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">AWS::CloudFormation::Stack</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">TemplateURL</span>: <span style="color:#ae81ff">https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetExecutionRole.yml </span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">TimeoutInMinutes</span>: <span style="color:#e6db74">&#39;3&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Parameters</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">AdministratorAccountId </span>: !<span style="color:#ae81ff">Ref &#39;AccountID&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Parameters</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">AccountID</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">String</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Description</span>: <span style="color:#ae81ff">Your AWS Account ID</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">MaxLength</span>: <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">MinLength</span>: <span style="color:#ae81ff">12</span>
</span></span></code></pre></div><ul>
<li>You can refer to the Role configuration templates here:</li>
</ul>
<p><a href="https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetAdministrationRole.yml">1. AWSCloudFormationStackSetAdministrationRole</a></p>
<p><a href="https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetExecutionRole.yml">2. AWSCloudFormationStackSetExecutionRole</a></p>
<ul>
<li>Select <strong>Template is ready</strong></li>
<li>Select <strong>Upload a template file</strong></li>
<li>Select <strong>Choose file</strong></li>
<li>Select <strong>mapping_stackset_iam.yaml</strong></li>
<li>Select <strong>Next</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0004-stackset.png?width=5120px"></p>
<ol start="5">
<li>In the <strong>Specify stack details</strong> interface</li>
</ol>
<ul>
<li><strong>Stack name</strong>, enter <code>mapping-stacksets-iam</code></li>
<li><strong>AccountID</strong>, enter your account id</li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0005-stackset.png?width=5120px"></p>
<ol start="6">
<li>Select <strong>Next</strong></li>
</ol>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0006-stackset.png?width=5120px"></p>
<ol start="7">
<li>In the <strong>Create stack</strong> interface</li>
</ol>
<ul>
<li>Select <strong>I acknowledge that AWS CloudFormation might create IAM resources with custom names</strong></li>
<li>Select <strong>I acknowledge that AWS CloudFormation might require the following capability: CAPABILITY_AUTO_EXPAND</strong></li>
<li>Select <strong>Create stack</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0007-stackset.png?width=5120px"></p>
<ol start="8">
<li>About a few minutes later, two CloudFormation templates were successfully created along with the Stack.</li>
</ol>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0008-stackset.png?width=5120px"></p>
<ol start="9">
<li>In the <strong>CloudFormation</strong> interface</li>
</ol>
<ul>
<li>Chọn <strong>Stackset</strong></li>
<li>Xem giao diện <strong>Stackset</strong></li>
<li>Chọn <strong>Stackset</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/0009-stackset.png?width=5120px"></p>
<ol start="10">
<li>In the <strong>Choose a template</strong> interface</li>
</ol>
<ul>
<li>Bước <strong>Permissions</strong>, chọn <strong>IAM role name</strong></li>
<li>Chọn <strong>IAM execution role name</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00010-stackset.png?width=5120px"></p>
<ol start="11">
<li>In the <strong>Prerequisite</strong> interface</li>
</ol>
<ul>
<li>Create a yaml file named <strong>mapping_stackset_ec2.yml</strong></li>
<li>Copy the following code into the file <strong>mapping_stackset_ec2.yml</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">AWSTemplateFormatVersion</span>: <span style="color:#e6db74">2010-09-09</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Description</span>: <span style="color:#ae81ff">This YAML template provisions an Amazon Linux 2 AMI and installs httpd to demonstrate proper operation in various AWS regions</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Parameters</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">SourceAccessCIDR</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">String</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Description</span>: <span style="color:#ae81ff">The CIDR IP range that is permitted to access the instance. We recommend that you set this value to a trusted IP range.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Default</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Mappings</span>:
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Mapping of Amazon Linux 2 AMI IDs in every AWS Region</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># When deploying a StackSet, the template will automatically deploy the proper AMI in each selected region</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">RegionMap</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">us-east-1</span>: 
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-04681a1dbd79675a5</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">us-east-2</span>: 
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-0cf31d971a3ca20d6</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">us-west-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-0782017a917e973e7</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">us-west-2</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-6cd6f714</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ap-south-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-00b6a8a2bd28daf19</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ap-northeast-3</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-00f7ef6bf92e8f916</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ap-northeast-2</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-012566705322e9a8e</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ap-southeast-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-01da99628f381e50a</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ap-southeast-2</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-00e17d1165b9dd3ec</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ap-northeast-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-08847abae18baa040</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ca-central-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-ce1b96aa</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">eu-central-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-0f5dbc86dd9cbf7a8</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">eu-west-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-0bdb1d6c15a40392c</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">eu-west-2</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-e1768386</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">eu-west-3</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-06340c8c12baa6a09</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">sa-east-1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">AMI</span>: <span style="color:#ae81ff">ami-0ad7b0031d41ed4b9</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Resources</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">MyEC2Instance</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">AWS::EC2::Instance</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">InstanceType</span>: <span style="color:#ae81ff">t2.micro</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ImageId</span>: !<span style="color:#ae81ff">FindInMap</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># !FindInMap will search the above RegionMap and automatically pick the proper AMI ID based on the region where this templte is being deployed</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">RegionMap</span>
</span></span><span style="display:flex;"><span>        - !<span style="color:#ae81ff">Ref &#39;AWS::Region&#39;</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">AMI</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SecurityGroupIds</span>:
</span></span><span style="display:flex;"><span>        - !<span style="color:#ae81ff">Ref EC2InstanceSG</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">UserData</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;Fn::Base64&#39;</span>: !<span style="color:#ae81ff">Sub |</span>
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">#!/bin/bash -ex</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">sudo yum install httpd -y</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">echo &#39;&lt;html&gt;&lt;h1&gt;Your CloudFormation stack successfully deployed in ${AWS::Region}!&lt;/h1&gt;&lt;/html&gt;&#39; &gt;/var/www/html/index.html</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ae81ff">service httpd start</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Tags</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">Key</span>: <span style="color:#ae81ff">Name</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">Value</span>: !<span style="color:#ae81ff">Sub ${AWS::StackName}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">EC2InstanceSG</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">AWS::EC2::SecurityGroup</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">GroupDescription</span>: <span style="color:#ae81ff">This SG allows you to verify the webserver is operational by allowing HTTP (TCP 80) traffic from your location</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Tags</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">Key</span>: <span style="color:#ae81ff">Name</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">Value</span>: !<span style="color:#ae81ff">Sub ${AWS::StackName}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">SecurityGroupIngress</span>:
</span></span><span style="display:flex;"><span>          -
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Description</span>: <span style="color:#ae81ff">Permits HTTP traffic to validate that the installed webserver is operational.</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">CidrIp</span>: !<span style="color:#ae81ff">Ref SourceAccessCIDR</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">FromPort</span>: <span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">IpProtocol</span>: <span style="color:#ae81ff">tcp</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ToPort</span>: <span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Outputs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Website</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Description</span>: <span style="color:#ae81ff">Webserver URL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Value</span>: !<span style="color:#ae81ff">Sub &#39;http://${MyEC2Instance.PublicDnsName}&#39;</span>
</span></span></code></pre></div><ul>
<li>Save the file <strong>mapping_stackset_ec2.yml</strong></li>
<li>Select <strong>Template is ready</strong></li>
<li><strong>Template source</strong>, select <strong>Upload a template file</strong></li>
<li>Select <strong>Choose file</strong></li>
<li>Select <strong>mapping_stackset_ec2.yml</strong></li>
<li>Select <strong>Next</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00011-stackset.png?width=5120px"></p>
<ol start="12">
<li>In the <strong>Specify StackSet details</strong> interface</li>
</ol>
<ul>
<li><strong>StackSet name</strong>, enter <code>mapping-stacksets-ec2</code></li>
<li>Select <strong>Next</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00012-stackset.png?width=5120px"></p>
<ol start="13">
<li>Select <strong>Next</strong></li>
</ol>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00013-stackset.png?width=5120px"></p>
<ol start="14">
<li>In the <strong>Set deployment options</strong> interface</li>
</ol>
<ul>
<li><strong>Add stacks to stack set</strong>, select <strong>Deploy new stack</strong></li>
<li><strong>Account</strong>, select <strong>Deploy stack in accounts</strong></li>
<li><strong>Account numbers</strong>, enter your account number</li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00014-stackset.png?width=5120px"></p>
<ol start="15">
<li>In the <strong>Specify region</strong> interface</li>
</ol>
<ul>
<li>Select the regions you want to deploy</li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00015-stackset.png?width=5120px"></p>
<ol start="16">
<li>In the <strong>Deployment options</strong> interface</li>
</ol>
<ul>
<li>Select <strong>Next</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00016-stackset.png?width=5120px"></p>
<ol start="17">
<li>Select <strong>Submit</strong></li>
</ol>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00017-stackset.png?width=5120px"></p>
<ol start="18">
<li>StackSet initialization process will take about 5 minutes until you see the screen similar to below.</li>
</ol>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00018-stackset.png?width=5120px"></p>
<ol start="19">
<li>Regions have been successfully deployed StackSet</li>
</ol>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00019-stackset.png?width=5120px"></p>
<ol start="20">
<li>In the <strong>CloudFormation</strong> interface</li>
</ol>
<ul>
<li>Select Region <strong>Asia Pacific-Tokyo</strong></li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00020-stackset.png?width=5120px"></p>
<ol start="21">
<li>In Region <strong>Asia Pacific-Tokyo</strong></li>
</ol>
<ul>
<li>Select <strong>CloudFormation</strong></li>
<li>Select <strong>Stack</strong></li>
<li>Access the CloudFormation console on Region Frankurt - which is one of the Regions we have selected to deploy the StackSet - and see that a new Stack has been created. This proves our StackSet has been deployed successfully.</li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00021-stackset.png?width=5120px"></p>
<ol start="22">
<li>In the <strong>CloudFormation</strong> interface</li>
</ol>
<ul>
<li>Select the Stack name, it will lead us to the detailed information page.</li>
<li>Switch to the Output tab, we will see website results and links</li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00022-stackset.png?width=5120px"></p>
<ol start="23">
<li>Select the link and paste it in the browser</li>
</ol>
<ul>
<li>The results obtained are exactly what we expected. The StackSet implementation has been really successful. If you’ve made it this far, congratulations!</li>
</ul>
<p><img alt="Stacksets" src="/images/4.advancedcloudformation/00023-stackset.png?width=5120px"></p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/000037-AWSCloudFormation/4-advancedcloudformation/4.1-customresources/4.1.3-connectec2instance/" title="Connect EC2 Instance"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/000037-AWSCloudFormation/4-advancedcloudformation/4.3-driftdetection/" title="Drift Detection" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/000037-AWSCloudFormation/js/clipboard.min.js?1747595034"></script>
    <script src="/000037-AWSCloudFormation/js/perfect-scrollbar.min.js?1747595034"></script>
    <script src="/000037-AWSCloudFormation/js/perfect-scrollbar.jquery.min.js?1747595034"></script>
    <script src="/000037-AWSCloudFormation/js/jquery.sticky.js?1747595034"></script>
    <script src="/000037-AWSCloudFormation/js/featherlight.min.js?1747595034"></script>
    <script src="/000037-AWSCloudFormation/js/highlight.pack.js?1747595034"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/000037-AWSCloudFormation/js/modernizr.custom-3.6.0.js?1747595034"></script>
    <script src="/000037-AWSCloudFormation/js/learn.js?1747595034"></script>
    <script src="/000037-AWSCloudFormation/js/hugo-learn.js?1747595034"></script>

    <link href="/000037-AWSCloudFormation/mermaid/mermaid.css?1747595034" rel="stylesheet" />
    <script src="/000037-AWSCloudFormation/mermaid/mermaid.js?1747595034"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
